[gd_scene load_steps=6 format=3 uid="uid://bk4crpa3gjt0v"]

[ext_resource type="PackedScene" uid="uid://d3362qk1sfw1r" path="res://core/checkpoint_system/checkpoint.tscn" id="1_ce5fr"]
[ext_resource type="PackedScene" uid="uid://cxt6fm053p2hk" path="res://mechanics/revitalizer/revitalizer.tscn" id="2_ng5v0"]
[ext_resource type="PackedScene" uid="uid://bdst38yglphvk" path="res://mechanics/moving_platforms/moving_node.tscn" id="3_ry7ia"]

[sub_resource type="BoxShape3D" id="BoxShape3D_mp2ls"]
size = Vector3(57.9927, 13.1096, 10.615)

[sub_resource type="BoxShape3D" id="BoxShape3D_aenxl"]
size = Vector3(8.07715, 5.99078, 7.77319)

[node name="main_island" type="Node3D"]

[node name="floor" type="CSGCombiner3D" parent="."]
use_collision = true

[node name="box" type="CSGBox3D" parent="floor"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -16.6882, 0, -45.2455)
size = Vector3(34.3765, 1, 91.491)

[node name="box15" type="CSGBox3D" parent="floor"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -13.9084, 5.90386, -49.5208)
size = Vector3(16.4294, 11.0284, 20.041)

[node name="box22" type="CSGBox3D" parent="floor"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -9.8127, 5.90386, -71.88)
size = Vector3(8.23798, 11.0284, 6.8764)

[node name="box23" type="CSGBox3D" parent="floor"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -25.6519, 5.90386, -85.2732)
size = Vector3(13.9164, 11.0284, 9.66281)

[node name="box24" type="CSGBox3D" parent="floor"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -22.823, 5.90386, -95.626)
size = Vector3(8.25847, 11.0284, 11.1147)

[node name="box21" type="CSGBox3D" parent="floor"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -6.77318, 10.7785, -66.1447)
size = Vector3(2.15894, 20.7776, 33.9505)

[node name="box16" type="CSGBox3D" parent="floor"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -3.8576, 1.15131, -70.3219)
size = Vector3(4.66064, 1.52333, 4.42969)

[node name="box17" type="CSGBox3D" parent="floor"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -4.2131, 2.15131, -65.6033)
size = Vector3(5.71533, 1.52333, 4.42969)

[node name="box18" type="CSGBox3D" parent="floor"]
transform = Transform3D(1, 0, 0, 0, 0.866025, 0.5, 0, -0.5, 0.866025, -4.2131, 5.52781, -56.6123)
size = Vector3(5.71533, 1.52333, 10.4927)

[node name="box19" type="CSGBox3D" parent="floor"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -4.2131, 8.06597, -49.2518)
size = Vector3(5.71533, 1.52333, 6.3656)

[node name="box20" type="CSGBox3D" parent="floor"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -4.2131, 9.51861, -44.0788)
size = Vector3(5.71533, 1.52333, 4.71161)

[node name="box2" type="CSGBox3D" parent="floor"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -2.17262, 0, -63.9291)
size = Vector3(13.8651, 1, 141.704)

[node name="box7" type="CSGBox3D" parent="floor"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 2.23183, 0, -187.066)
size = Vector3(13.0585, 1, 11.9668)

[node name="box8" type="CSGBox3D" parent="floor"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -7.32272, 0, -184.352)
size = Vector3(6.44157, 1, 6.38772)

[node name="box9" type="CSGBox3D" parent="floor"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -19.1497, 0, -180.492)
size = Vector3(6.44157, 1, 6.38772)

[node name="box10" type="CSGBox3D" parent="floor"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -31.9086, -1.90735e-06, -167.173)
size = Vector3(5.30284, 1, 16.9641)

[node name="box13" type="CSGBox3D" parent="floor"]
transform = Transform3D(1, 0, 0, 0, 0.896022, 0.44401, 0, -0.44401, 0.896022, -31.9086, 0.430404, -164.25)
size = Vector3(5.30284, 5.22559, 10.1993)

[node name="box11" type="CSGBox3D" parent="floor"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -37.1922, 2.28668, -155.534)
size = Vector3(5.30284, 5.57336, 15.6784)

[node name="box14" type="CSGBox3D" parent="floor"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -31.9672, 2.28668, -159.427)
size = Vector3(5.29196, 5.57336, 2.78973)

[node name="box12" type="CSGBox3D" parent="floor"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -33.0612, 2.27533, -145.236)
size = Vector3(13.9586, 5.55066, 5.55096)

[node name="box3" type="CSGBox3D" parent="floor"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -18.239, 0, -101.228)
size = Vector3(26.0734, 1, 40.7267)

[node name="box4" type="CSGBox3D" parent="floor"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 9.06404, 0, -61.2442)
size = Vector3(23.7506, 1, 110.735)

[node name="box5" type="CSGBox3D" parent="floor"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -54.6824, 0, -65.1674)
size = Vector3(13.6973, 1, 48.291)

[node name="box6" type="CSGBox3D" parent="floor"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -65.7091, 0, -67.433)
size = Vector3(13.6973, 1, 28.8284)

[node name="walls" type="CSGCombiner3D" parent="."]
use_collision = true

[node name="box" type="CSGBox3D" parent="walls"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 13.9798, 10.0071, -72.199)
size = Vector3(15.9903, 19.5742, 6.25732)

[node name="box2" type="CSGBox3D" parent="walls"]
transform = Transform3D(-4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, 9.99577, 10.0071, -82.3839)
size = Vector3(15.9903, 19.5742, 12.1287)

[node name="box3" type="CSGBox3D" parent="walls"]
transform = Transform3D(-4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, 8.5687, 10.0071, -97.508)
size = Vector3(19.8569, 19.5742, 7.52917)

[node name="box4" type="CSGBox3D" parent="walls"]
transform = Transform3D(-4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, -40.8792, 10.0071, -70.4523)
size = Vector3(16.2879, 19.5742, 17.6811)

[node name="box5" type="CSGBox3D" parent="walls"]
transform = Transform3D(-4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, -38.3705, 10.0071, -41.3516)
size = Vector3(43.435, 19.5742, 13.7698)

[node name="box6" type="CSGBox3D" parent="walls"]
transform = Transform3D(-4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, -41.3681, 10.0071, -80.3408)
size = Vector3(16.2879, 19.5742, 5.39677)

[node name="box8" type="CSGBox3D" parent="walls"]
transform = Transform3D(-4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, -1.02187, 10.0071, -38.3785)
size = Vector3(1.69141, 19.5742, 1.31738)

[node name="box9" type="CSGBox3D" parent="walls"]
transform = Transform3D(-4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, -37.5523, 15.6148, -145.261)
size = Vector3(1.69141, 21.0044, 1.31738)

[node name="checkpoint" parent="." instance=ExtResource("1_ce5fr")]
transform = Transform3D(-1, 0, -8.74228e-08, 0, 1, 0, 8.74228e-08, 0, -1, -9, 1.08246, -13.8965)

[node name="area" type="CollisionShape3D" parent="checkpoint"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -2.06218, 6.05481, -1.52588e-05)
shape = SubResource("BoxShape3D_mp2ls")

[node name="invisible_floor" type="CSGCombiner3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -143)
use_collision = true

[node name="box" type="CSGBox3D" parent="invisible_floor"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 6.10803, -0.870719, -16.6174)
size = Vector3(24.0334, 1.74244, 34.2349)

[node name="box2" type="CSGBox3D" parent="invisible_floor"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 25.108, -0.870719, -14.5743)
size = Vector3(24.0334, 1.74244, 24.377)

[node name="box3" type="CSGBox3D" parent="invisible_floor"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -11.7653, -0.870719, -17.5197)
size = Vector3(25.8029, 1.74244, 18.2587)

[node name="box4" type="CSGBox3D" parent="invisible_floor"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -11.6657, -0.870719, -16.185)
size = Vector3(15.9533, 1.74244, 28.6332)

[node name="invisible_walls" type="CSGCombiner3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 3, 0, -160)
use_collision = true

[node name="box" type="CSGBox3D" parent="invisible_walls"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 11.3122, 3.27553, 2.45451)
size = Vector3(6.27048, 7.00305, 6.16406)

[node name="box2" type="CSGBox3D" parent="invisible_walls"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -12.7816, 6.04796, -5.23062)
size = Vector3(1.51953, 12.5479, 1.9873)

[node name="revitalizer" parent="." node_paths=PackedStringArray("objects_to_affect") instance=ExtResource("2_ng5v0")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -1.29135, 0.154283, -134.147)
objects_to_affect = [NodePath("../invisible_floor/box"), NodePath("../invisible_floor/box2"), NodePath("../invisible_floor/box3"), NodePath("../invisible_floor/box4"), NodePath("../invisible_walls/box"), NodePath("../invisible_walls/box2")]
active_color = Color(0, 1, 1, 1)

[node name="area" type="CollisionShape3D" parent="revitalizer"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.100494, 3.42563, -0.00849915)
shape = SubResource("BoxShape3D_aenxl")

[node name="revitalizer2" parent="." node_paths=PackedStringArray("objects_to_affect") instance=ExtResource("2_ng5v0")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -5.82074, 0.154287, -182.616)
objects_to_affect = [NodePath("../invisible_floor/box"), NodePath("../invisible_floor/box2"), NodePath("../invisible_floor/box3"), NodePath("../invisible_floor/box4"), NodePath("../invisible_walls/box"), NodePath("../invisible_walls/box2")]
active_color = Color(0, 1, 1, 1)

[node name="area" type="CollisionShape3D" parent="revitalizer2"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.100494, 3.42563, -0.00849915)
shape = SubResource("BoxShape3D_aenxl")

[node name="moving_platforms" type="Node3D" parent="."]

[node name="platform_a" type="Node3D" parent="moving_platforms"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -64.8287, 0, -105.332)

[node name="moving_node" parent="moving_platforms/platform_a" node_paths=PackedStringArray("start_point", "end_point") instance=ExtResource("3_ry7ia")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 23.1552, 0, -0.150314)
start_point = NodePath("../start_pos_a")
end_point = NodePath("../start_pos_b")
speed = 5.0
wait_duration_in_seconds = 3.0

[node name="platform" type="CSGBox3D" parent="moving_platforms/platform_a/moving_node"]
size = Vector3(9.19238, 1, 8.80176)

[node name="start_pos_a" type="Node3D" parent="moving_platforms/platform_a"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 23.1552, 0, -0.150314)

[node name="start_pos_b" type="Node3D" parent="moving_platforms/platform_a"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -22.8448, 0, -0.150314)

[editable path="moving_platforms/platform_a/moving_node"]
